{"ast":null,"code":"var _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from 'react';\nimport './StreamComponent.css';\nimport OvVideoComponent from './OvVideo';\nimport MicOff from '@material-ui/icons/MicOff';\nimport VideocamOff from '@material-ui/icons/VideocamOff';\nimport VolumeUp from '@material-ui/icons/VolumeUp';\nimport VolumeOff from '@material-ui/icons/VolumeOff';\nimport FormControl from '@material-ui/core/FormControl';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport IconButton from '@material-ui/core/IconButton';\nimport HighlightOff from '@material-ui/icons/HighlightOff';\nimport FormHelperText from '@material-ui/core/FormHelperText';\n\nvar StreamComponent = function (_Component) {\n  _inherits(StreamComponent, _Component);\n\n  function StreamComponent(props) {\n    _classCallCheck(this, StreamComponent);\n\n    var _this = _possibleConstructorReturn(this, (StreamComponent.__proto__ || Object.getPrototypeOf(StreamComponent)).call(this, props));\n\n    _this.state = {\n      nickname: _this.props.user.getNickname(),\n      showForm: false,\n      mutedSound: false,\n      isFormValid: true\n    };\n    _this.handleChange = _this.handleChange.bind(_this);\n    _this.handlePressKey = _this.handlePressKey.bind(_this);\n    _this.toggleNicknameForm = _this.toggleNicknameForm.bind(_this);\n    _this.toggleSound = _this.toggleSound.bind(_this);\n    return _this;\n  }\n\n  _createClass(StreamComponent, [{\n    key: 'handleChange',\n    value: function handleChange(event) {\n      this.setState({\n        nickname: event.target.value\n      });\n      event.preventDefault();\n    }\n  }, {\n    key: 'toggleNicknameForm',\n    value: function toggleNicknameForm() {\n      if (this.props.user.isLocal()) {\n        this.setState({\n          showForm: !this.state.showForm\n        });\n      }\n    }\n  }, {\n    key: 'toggleSound',\n    value: function toggleSound() {\n      this.setState({\n        mutedSound: !this.state.mutedSound\n      });\n    }\n  }, {\n    key: 'handlePressKey',\n    value: function handlePressKey(event) {\n      if (event.key === 'Enter') {\n        console.log(this.state.nickname);\n\n        if (this.state.nickname.length >= 3 && this.state.nickname.length <= 20) {\n          this.props.handleNickname(this.state.nickname);\n          this.toggleNicknameForm();\n          this.setState({\n            isFormValid: true\n          });\n        } else {\n          this.setState({\n            isFormValid: false\n          });\n        }\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return React.createElement('div', {\n        className: 'OT_widget-container'\n      }, React.createElement('div', {\n        className: 'pointer nickname'\n      }, this.state.showForm ? React.createElement(FormControl, {\n        id: 'nicknameForm'\n      }, React.createElement(IconButton, {\n        color: 'inherit',\n        id: 'closeButton',\n        onClick: this.toggleNicknameForm\n      }, React.createElement(HighlightOff, null)), React.createElement(InputLabel, {\n        htmlFor: 'name-simple',\n        id: 'label'\n      }, 'Nickname'), React.createElement(Input, {\n        color: 'inherit',\n        id: 'input',\n        value: this.state.nickname,\n        onChange: this.handleChange,\n        onKeyPress: this.handlePressKey,\n        required: true\n      }), !this.state.isFormValid && this.state.nickname.length <= 3 && React.createElement(FormHelperText, {\n        id: 'name-error-text'\n      }, 'Nickname is too short!'), !this.state.isFormValid && this.state.nickname.length >= 20 && React.createElement(FormHelperText, {\n        id: 'name-error-text'\n      }, 'Nickname is too long!')) : React.createElement('div', {\n        onClick: this.toggleNicknameForm\n      }, React.createElement('span', {\n        id: 'nickname'\n      }, this.props.user.getNickname()), this.props.user.isLocal() && React.createElement('span', null, ' (edit)'))), this.props.user !== undefined && this.props.user.getStreamManager() !== undefined ? React.createElement('div', {\n        className: 'streamComponent'\n      }, React.createElement(OvVideoComponent, {\n        user: this.props.user,\n        mutedSound: this.state.mutedSound\n      }), React.createElement('div', {\n        id: 'statusIcons'\n      }, !this.props.user.isVideoActive() ? React.createElement('div', {\n        id: 'camIcon'\n      }, React.createElement(VideocamOff, {\n        id: 'statusCam'\n      })) : null, !this.props.user.isAudioActive() ? React.createElement('div', {\n        id: 'micIcon'\n      }, React.createElement(MicOff, {\n        id: 'statusMic'\n      })) : null), React.createElement('div', null, !this.props.user.isLocal() && React.createElement(IconButton, {\n        id: 'volumeButton',\n        onClick: this.toggleSound\n      }, this.state.mutedSound ? React.createElement(VolumeOff, {\n        color: 'secondary'\n      }) : React.createElement(VolumeUp, null)))) : null);\n    }\n  }]);\n\n  return StreamComponent;\n}(Component);\n\nexport default StreamComponent;","map":{"version":3,"sources":["/home/trongtu/Downloads/baitaplon/node_modules/openvidu-react/dist/components/stream/StreamComponent.js"],"names":["_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","value","setPrototypeOf","__proto__","React","Component","OvVideoComponent","MicOff","VideocamOff","VolumeUp","VolumeOff","FormControl","Input","InputLabel","IconButton","HighlightOff","FormHelperText","StreamComponent","_Component","_this","getPrototypeOf","state","nickname","user","getNickname","showForm","mutedSound","isFormValid","handleChange","bind","handlePressKey","toggleNicknameForm","toggleSound","event","setState","preventDefault","isLocal","console","log","handleNickname","render","createElement","className","id","color","onClick","htmlFor","onChange","onKeyPress","required","undefined","getStreamManager","isVideoActive","isAudioActive"],"mappings":"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","sourcesContent":["var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport './StreamComponent.css';\nimport OvVideoComponent from './OvVideo';\n\nimport MicOff from '@material-ui/icons/MicOff';\nimport VideocamOff from '@material-ui/icons/VideocamOff';\nimport VolumeUp from '@material-ui/icons/VolumeUp';\nimport VolumeOff from '@material-ui/icons/VolumeOff';\nimport FormControl from '@material-ui/core/FormControl';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport IconButton from '@material-ui/core/IconButton';\nimport HighlightOff from '@material-ui/icons/HighlightOff';\nimport FormHelperText from '@material-ui/core/FormHelperText';\n\nvar StreamComponent = function (_Component) {\n    _inherits(StreamComponent, _Component);\n\n    function StreamComponent(props) {\n        _classCallCheck(this, StreamComponent);\n\n        var _this = _possibleConstructorReturn(this, (StreamComponent.__proto__ || Object.getPrototypeOf(StreamComponent)).call(this, props));\n\n        _this.state = { nickname: _this.props.user.getNickname(), showForm: false, mutedSound: false, isFormValid: true };\n        _this.handleChange = _this.handleChange.bind(_this);\n        _this.handlePressKey = _this.handlePressKey.bind(_this);\n        _this.toggleNicknameForm = _this.toggleNicknameForm.bind(_this);\n        _this.toggleSound = _this.toggleSound.bind(_this);\n        return _this;\n    }\n\n    _createClass(StreamComponent, [{\n        key: 'handleChange',\n        value: function handleChange(event) {\n            this.setState({ nickname: event.target.value });\n            event.preventDefault();\n        }\n    }, {\n        key: 'toggleNicknameForm',\n        value: function toggleNicknameForm() {\n            if (this.props.user.isLocal()) {\n                this.setState({ showForm: !this.state.showForm });\n            }\n        }\n    }, {\n        key: 'toggleSound',\n        value: function toggleSound() {\n            this.setState({ mutedSound: !this.state.mutedSound });\n        }\n    }, {\n        key: 'handlePressKey',\n        value: function handlePressKey(event) {\n            if (event.key === 'Enter') {\n                console.log(this.state.nickname);\n                if (this.state.nickname.length >= 3 && this.state.nickname.length <= 20) {\n                    this.props.handleNickname(this.state.nickname);\n                    this.toggleNicknameForm();\n                    this.setState({ isFormValid: true });\n                } else {\n                    this.setState({ isFormValid: false });\n                }\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return React.createElement(\n                'div',\n                { className: 'OT_widget-container' },\n                React.createElement(\n                    'div',\n                    { className: 'pointer nickname' },\n                    this.state.showForm ? React.createElement(\n                        FormControl,\n                        { id: 'nicknameForm' },\n                        React.createElement(\n                            IconButton,\n                            { color: 'inherit', id: 'closeButton', onClick: this.toggleNicknameForm },\n                            React.createElement(HighlightOff, null)\n                        ),\n                        React.createElement(\n                            InputLabel,\n                            { htmlFor: 'name-simple', id: 'label' },\n                            'Nickname'\n                        ),\n                        React.createElement(Input, {\n                            color: 'inherit',\n                            id: 'input',\n                            value: this.state.nickname,\n                            onChange: this.handleChange,\n                            onKeyPress: this.handlePressKey,\n                            required: true\n                        }),\n                        !this.state.isFormValid && this.state.nickname.length <= 3 && React.createElement(\n                            FormHelperText,\n                            { id: 'name-error-text' },\n                            'Nickname is too short!'\n                        ),\n                        !this.state.isFormValid && this.state.nickname.length >= 20 && React.createElement(\n                            FormHelperText,\n                            { id: 'name-error-text' },\n                            'Nickname is too long!'\n                        )\n                    ) : React.createElement(\n                        'div',\n                        { onClick: this.toggleNicknameForm },\n                        React.createElement(\n                            'span',\n                            { id: 'nickname' },\n                            this.props.user.getNickname()\n                        ),\n                        this.props.user.isLocal() && React.createElement(\n                            'span',\n                            null,\n                            ' (edit)'\n                        )\n                    )\n                ),\n                this.props.user !== undefined && this.props.user.getStreamManager() !== undefined ? React.createElement(\n                    'div',\n                    { className: 'streamComponent' },\n                    React.createElement(OvVideoComponent, { user: this.props.user, mutedSound: this.state.mutedSound }),\n                    React.createElement(\n                        'div',\n                        { id: 'statusIcons' },\n                        !this.props.user.isVideoActive() ? React.createElement(\n                            'div',\n                            { id: 'camIcon' },\n                            React.createElement(VideocamOff, { id: 'statusCam' })\n                        ) : null,\n                        !this.props.user.isAudioActive() ? React.createElement(\n                            'div',\n                            { id: 'micIcon' },\n                            React.createElement(MicOff, { id: 'statusMic' })\n                        ) : null\n                    ),\n                    React.createElement(\n                        'div',\n                        null,\n                        !this.props.user.isLocal() && React.createElement(\n                            IconButton,\n                            { id: 'volumeButton', onClick: this.toggleSound },\n                            this.state.mutedSound ? React.createElement(VolumeOff, { color: 'secondary' }) : React.createElement(VolumeUp, null)\n                        )\n                    )\n                ) : null\n            );\n        }\n    }]);\n\n    return StreamComponent;\n}(Component);\n\nexport default StreamComponent;"]},"metadata":{},"sourceType":"module"}