{"ast":null,"code":"/**\n  # normalice\n\n  Normalize an ice server configuration object (or plain old string) into a format\n  that is usable in all browsers supporting WebRTC.  Primarily this module is designed\n  to help with the transition of the `url` attribute of the configuration object to\n  the `urls` attribute.\n\n  ## Example Usage\n\n  <<< examples/simple.js\n\n**/\nvar protocols = ['stun:', 'turn:'];\n\nmodule.exports = function (input) {\n  var url = (input || {}).url || input;\n  var protocol;\n  var parts;\n  var output = {}; // if we don't have a string url, then allow the input to passthrough\n\n  if (typeof url != 'string' && !(url instanceof String)) {\n    return input;\n  } // trim the url string, and convert to an array\n\n\n  url = url.trim(); // if the protocol is not known, then passthrough\n\n  protocol = protocols[protocols.indexOf(url.slice(0, 5))];\n\n  if (!protocol) {\n    return input;\n  } // now let's attack the remaining url parts\n\n\n  url = url.slice(5);\n  parts = url.split('@');\n  output.username = input.username;\n  output.credential = input.credential; // if we have an authentication part, then set the credentials\n\n  if (parts.length > 1) {\n    url = parts[1];\n    parts = parts[0].split(':'); // add the output credential and username\n\n    output.username = parts[0];\n    output.credential = (input || {}).credential || parts[1] || '';\n  }\n\n  output.url = protocol + url;\n  output.urls = [output.url];\n  return output;\n};","map":{"version":3,"sources":["/home/trongtu/Downloads/baitaplon/node_modules/openvidu-browser/node_modules/normalice/index.js"],"names":["protocols","module","exports","input","url","protocol","parts","output","String","trim","indexOf","slice","split","username","credential","length","urls"],"mappings":"AAAA;;;;;;;;;;;;;AAcA,IAAIA,SAAS,GAAG,CACd,OADc,EAEd,OAFc,CAAhB;;AAKAC,MAAM,CAACC,OAAP,GAAiB,UAASC,KAAT,EAAgB;AAC/B,MAAIC,GAAG,GAAG,CAACD,KAAK,IAAI,EAAV,EAAcC,GAAd,IAAqBD,KAA/B;AACA,MAAIE,QAAJ;AACA,MAAIC,KAAJ;AACA,MAAIC,MAAM,GAAG,EAAb,CAJ+B,CAM/B;;AACA,MAAI,OAAOH,GAAP,IAAc,QAAd,IAA2B,EAAGA,GAAG,YAAYI,MAAlB,CAA/B,EAA2D;AACzD,WAAOL,KAAP;AACD,GAT8B,CAW/B;;;AACAC,EAAAA,GAAG,GAAGA,GAAG,CAACK,IAAJ,EAAN,CAZ+B,CAc/B;;AACAJ,EAAAA,QAAQ,GAAGL,SAAS,CAACA,SAAS,CAACU,OAAV,CAAkBN,GAAG,CAACO,KAAJ,CAAU,CAAV,EAAa,CAAb,CAAlB,CAAD,CAApB;;AACA,MAAI,CAAEN,QAAN,EAAgB;AACd,WAAOF,KAAP;AACD,GAlB8B,CAoB/B;;;AACAC,EAAAA,GAAG,GAAGA,GAAG,CAACO,KAAJ,CAAU,CAAV,CAAN;AACAL,EAAAA,KAAK,GAAGF,GAAG,CAACQ,KAAJ,CAAU,GAAV,CAAR;AAEAL,EAAAA,MAAM,CAACM,QAAP,GAAkBV,KAAK,CAACU,QAAxB;AACAN,EAAAA,MAAM,CAACO,UAAP,GAAoBX,KAAK,CAACW,UAA1B,CAzB+B,CA0B/B;;AACA,MAAIR,KAAK,CAACS,MAAN,GAAe,CAAnB,EAAsB;AACpBX,IAAAA,GAAG,GAAGE,KAAK,CAAC,CAAD,CAAX;AACAA,IAAAA,KAAK,GAAGA,KAAK,CAAC,CAAD,CAAL,CAASM,KAAT,CAAe,GAAf,CAAR,CAFoB,CAIpB;;AACAL,IAAAA,MAAM,CAACM,QAAP,GAAkBP,KAAK,CAAC,CAAD,CAAvB;AACAC,IAAAA,MAAM,CAACO,UAAP,GAAoB,CAACX,KAAK,IAAI,EAAV,EAAcW,UAAd,IAA4BR,KAAK,CAAC,CAAD,CAAjC,IAAwC,EAA5D;AACD;;AAEDC,EAAAA,MAAM,CAACH,GAAP,GAAaC,QAAQ,GAAGD,GAAxB;AACAG,EAAAA,MAAM,CAACS,IAAP,GAAc,CAAET,MAAM,CAACH,GAAT,CAAd;AAEA,SAAOG,MAAP;AACD,CAxCD","sourcesContent":["/**\n  # normalice\n\n  Normalize an ice server configuration object (or plain old string) into a format\n  that is usable in all browsers supporting WebRTC.  Primarily this module is designed\n  to help with the transition of the `url` attribute of the configuration object to\n  the `urls` attribute.\n\n  ## Example Usage\n\n  <<< examples/simple.js\n\n**/\n\nvar protocols = [\n  'stun:',\n  'turn:'\n];\n\nmodule.exports = function(input) {\n  var url = (input || {}).url || input;\n  var protocol;\n  var parts;\n  var output = {};\n\n  // if we don't have a string url, then allow the input to passthrough\n  if (typeof url != 'string' && (! (url instanceof String))) {\n    return input;\n  }\n\n  // trim the url string, and convert to an array\n  url = url.trim();\n\n  // if the protocol is not known, then passthrough\n  protocol = protocols[protocols.indexOf(url.slice(0, 5))];\n  if (! protocol) {\n    return input;\n  }\n\n  // now let's attack the remaining url parts\n  url = url.slice(5);\n  parts = url.split('@');\n\n  output.username = input.username;\n  output.credential = input.credential;\n  // if we have an authentication part, then set the credentials\n  if (parts.length > 1) {\n    url = parts[1];\n    parts = parts[0].split(':');\n\n    // add the output credential and username\n    output.username = parts[0];\n    output.credential = (input || {}).credential || parts[1] || '';\n  }\n\n  output.url = protocol + url;\n  output.urls = [ output.url ];\n\n  return output;\n};\n"]},"metadata":{},"sourceType":"script"}